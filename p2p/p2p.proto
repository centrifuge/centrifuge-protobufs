syntax = "proto3";

package p2p;

option go_package = "p2ppb";
option java_multiple_files = true;
option java_outer_classname = "P2pProto";
option java_package = "com.p2p";

import "coredocument/coredocument.proto";

message Header {
  uint32 network_identifier = 1;
  string node_version = 2;
  bytes sender_id = 3;
  // Body message type
  string type = 4;
}

message Envelope {
  Header header = 1;
  bytes body = 2;
}

message SignatureRequest {
  coredocument.CoreDocument document = 1;
}

message SignatureResponse {
  coredocument.Signature signature = 1;
}

message AnchorDocumentRequest {
  coredocument.CoreDocument document = 1;
}

message AnchorDocumentResponse {
  bool accepted = 1;
}

message GetDocumentRequest {
  bytes document_identifier = 1;
  enum AccessType {
    REQUESTER_VERIFICATION = 0;
    NT_OWNER_VERIFICATION = 1;
    ACCESS_TOKEN_VERIFICATION = 2;
  }
  AccessType access_type = 2;
  bytes nft = 3;
}

message GetDocumentResponse {
  coredocument.CoreDocument document = 1;
}
